<!DOCTYPE html>
<html>
<head>
	<title>User Registration Form</title>
	<style>
		form {
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		label {
			margin-top: 10px;
		}
		input[type="submit"] {
			margin-top: 20px;
		}
	</style>   
</head>
<body>
	 <h2>Registration</h2>
	<form id="registration-form">
		<label for="email">Email:</label>
		<input type="email" id="email" name="email" required>
		<label for="username">Username:</label>
		<input type="text" id="username" name="username" required>
		<label for="password">Password:</label>
		<input type="password" id="password" name="password" required>
		<input type="submit" value="Register">
	</form>

	<hr> 

	<h2>Login</h2>
	<form id="login-form">
		<label for="login-email">Email:</label>
		<input type="email" id="login-email" name="email" required>
		<label for="login-password">Password:</label>
		<input type="password" id="login-password" name="password" required>
		<input type="submit" value="Login">
	</form>

	 <script>
		const form = document.querySelector('#registration-form');
		form.addEventListener('submit', async (event) => {
			event.preventDefault();

			const emailInput = document.querySelector('#email');
			const usernameInput = document.querySelector('#username');
			const passwordInput = document.querySelector('#password');

			const response = await fetch('/register', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email: emailInput.value,
					username: usernameInput.value,
					password: passwordInput.value
				})
			});

			if (response.ok) {
				alert('Registration complete');
			} else {
				alert('Registration failed');
			}
		});
	</script> 

<script>
	const forms = document.querySelector('#login-form');
	form.addEventListener('submit', async (event) => {
		event.preventDefault();

		const emailInput = document.querySelector('#login-email');
		const passwordInput = document.querySelector('#login-password');

		const response = await fetch('/login', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json'
			},
			body: JSON.stringify({
				email: emailInput.value,
				password: passwordInput.value
			})
		});

		if (response.ok) {
			alert('Login successful');
		} else {
			alert('Login failed');
		}
	});
</script>
</body>
</html>
